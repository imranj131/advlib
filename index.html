<!DOCTYPE HTML>
<html ng-app="advapp">
  <head>

    <title>
    reelyActive: advlib
    </title>

    <script src="web/js/advlib.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:600,400' rel='stylesheet' type='text/css'>
    <script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="web/style/main.css" />

  </head>

    <body ng-controller="InteractionCtrl">

    <header>reelyActive advLib </header>
    
      <tabset justified="true">

      <tab heading="Bluetooth Smart" select="selectBluetooth()" active="true">
      <!--________Packet________-->
      <div ng-controller="PacketCtrl">
        <!--________Payload________-->
      
          <form class="payloadInputDd">
            <select ng-model="payload" ng-change="process()" class="form-control" ng-options="preset.payload as preset.name for preset in presets"
              style="width:30%">
              <option value=""> -- Choose a preset payload --</option>
            </select>
            <input ng-model="payload" ng-keyup="process()" type="text" class="form-control" placeholder="Or paste your payload here"
            style="width:40%">
          </form>
      
        <!--________Bluetooth Smart________-->
        <div class="form" ng-show="bluetooth.show">

          <h1> Bluetooth Smart Packet Elements </h1>
          <div ng-controller="AccordionDemoCtrl">
            <accordion close-others="false">
              <accordion-group heading="Header: {{header}}">
                <form>
                  <div>
                    <h4> Header:
                    <input type="text" name="header" ng-model="header" class="form-control" style="width:30%" readonly>
                    </h4>
                  </div>
                  <div>
                    <h4> Type:
                    <select ng-model="bluetooth.packet.advHeader.type" class="form-control" style="width:35%" ng-options="header.name for header in headerType" >
                      <option value="">{{bluetooth.packet.advHeader.type}}</option>
                    </select>
                    </h4>
                  </div>
                  <div>
                    <h4> rxAdd:
                    <span class="btn-group">
                      <label  ng-model="bluetooth.packet.advHeader.rxAdd"  btn-radio="'public'"  class="btn btn-default
                      "/> public </label>
                      <label  ng-model="bluetooth.packet.advHeader.rxAdd"  btn-radio="'random'"  class="btn btn-default
                      "/> random </label>
                    </span>
                    </h4>
                  </div>
                  <div>
                    <h4> txAdd:
                    <span class="btn-group">
                      <label  ng-model="bluetooth.packet.advHeader.txAdd"  btn-radio="'public'" class="btn btn-default
                      "/> public </label>
                      <label  ng-model="bluetooth.packet.advHeader.txAdd"  btn-radio="'random'" class="btn btn-default
                      "/> random </label>
                    </span>
                    </h4>
                  </div>
                  <div>
                    <label for="length">
                      <h4> Length: <input disabled ng-model="bluetooth.packet.advHeader.length" type="number" name="payloadlength" id="length" min="8" max="37" step="1" value="8" class="form-control" style="width:45%">
                    </label>
                  </div>
                </form>
              </accordion-group>
              <accordion-group heading="Address: {{bluetooth.packet.value}}">
                <div class="form1">
                  <h4> Address:
                  <input type="text" name="address" ng-model="bluetooth.packet.value" class="form-control" style="width:35%" readonly>
                  </h4>
                </div>
              </accordion-group>
              <accordion-group heading="Data: {{payloadData}}">
                <div class="form1">
                  <h4> UUID:</h4>
                  <h5 ng-show="bluetooth.packet.advData.nonComplete16BitUUIDs">Non-Complete 16 Bit: <input type="text" name="uuid" value="nonComplete16BitUUIDs" ng-model="bluetooth.packet.advData.nonComplete16BitUUIDs" class="form-control" style="width:50%" readonly> </h5>
                  <h5 ng-show="bluetooth.packet.advData.complete16BitUUIDs">Complete 16 Bit: <input type="text" name="uuid" value="complete16BitUUIDs" ng-model="bluetooth.packet.advData.complete16BitUUIDs" class="form-control" style="width:50%" readonly> </h5>
                  <h5 ng-show="bluetooth.packet.advData.nonComplete128BitUUIDs">Non-Complete 128 Bit: <input type="text" name="uuid" value="nonComplete128BitUUIDs" ng-model="bluetooth.packet.advData.nonComplete128BitUUIDs" class="form-control" style="width:50%" readonly> </h5>
                  <h5 ng-show="bluetooth.packet.advData.complete128BitUUIDs">Complete 128 Bit:<input type="text" name="uuid" value="complete128BitUUIDs" ng-model="bluetooth.packet.advData.complete128BitUUIDs" class="form-control" style="width:50%" readonly>
                  </h5>
                  <h4> Local Name:</h4>
                  <h5 ng-show="bluetooth.packet.advData.completeLocalName">
                  complete:
                  <input type="text" value="completeLocalName" ng-model="bluetooth.packet.advData.completeLocalName" class="form-control" style="width:50%" readonly> <br>
                  </h5>
                  <h5 ng-show="bluetooth.packet.advData.shortenedLocalName">
                  shortened:
                  <input type="text" value="shortenedLocalName" ng-model="bluetooth.packet.advData.shortenedLocalName" class="form-control" style="width:50%" readonly>
                  </h5>
                  <h4> Flags:<br></h4>
                  
                  <input type="checkbox" ng-model="checkedItems['LE Limited Discoverable Mode']" readonly> LE Limited Discoverable Mode
                  <br>
                  
                  <input type="checkbox" ng-model="checkedItems['LE General Discoverable Mode']" readonly> LE General Discoverable Mode
                  <br>
                  
                  <input type="checkbox" ng-model="checkedItems['BR/EDR Not Supported']" readonly> BR/EDR Not Supported
                  <br>
                  
                  <input type="checkbox" ng-model="checkedItems['Simultaneous LE and BR/EDR to Same Device Capable (Controller)']"
                  readonly> Simultaneous LE and BR/EDR to Same Device Capable (Controller)
                  <br>
                  
                  <input type="checkbox" ng-model="checkedItems['Simultaneous LE and BR/EDR to Same Device Capable (Host)']"
                  readonly> Simultaneous LE and BR/EDR to Same Device Capable (Host)
                  <br>
                  
                  <input type="checkbox" ng-model="checkedItems['Reserved']" readonly> Reserved
                  
                  <section>
                    <h4> Manufacturer Specific Data:</h4>
                    <h5 ng-show="bluetooth.packet.advData.manufacturerSpecificData"><b>Generic Data</b></h5>
                    <div ng-show="bluetooth.packet.advData.manufacturerSpecificData">
                      companyIdentifierCode:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.companyIdentifierCode"
                      class="form-control" style="width:50%" readonly>
                      <br> data:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.data"
                      class="form-control" style="width:50%" readonly>
                    </div>
                    <h5 ng-show="bluetooth.packet.advData.manufacturerSpecificData.iBeacon"><b>iBeacon</b></h5>
                    <div ng-show="bluetooth.packet.advData.manufacturerSpecificData.iBeacon">
                      uuid:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.iBeacon.uuid"
                      class="form-control" style="width:50%" readonly>
                      <br> major:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.iBeacon.major"
                      class="form-control" style="width:50%" readonly>
                      <br> minor:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.iBeacon.minor"
                      class="form-control" style="width:50%" readonly>
                      <br> txPower:
                      <input type="text" name="address" ng-model="bluetooth.packet.advData.manufacturerSpecificData.iBeacon.txPower"
                      class="form-control" style="width:50%" readonly>
                      <br>
                    </div>
                  </section>
                  <h4> TX Power Level:
                  <input value="txPower" id="txPowerLevel" ng-model="bluetooth.packet.advData.txPower" class="form-control" style="width:50%" ng-show="bluetooth.packet.advData.txPower" readonly>
                  </h4>
                  <h4> Service Solicitation:</h4>
                  <h5 ng-show="bluetooth.packet.advData.solicitation16BitUUIDs">
                  <span class = "radio">
                    <input type="radio" name="ss" value="16" ng-model="bluetooth.packet.advData.solicitation16BitUUIDs" onclick="this.checked = false;" class="form-control" style="width:50%"> 16 Bit UUIDs<br>
                    <input type="radio" name="ss" value="128" ng-model="bluetooth.packet.advData.solicitation128BitUUIDs" checked onclick="this.checked = false;" class="form-control" style="width:50%"> 128 Bit UUIDs
                  </span>
                  </h5>
                  <h4> Service Data: <br> </h4>
                  <h5 ng-show="bluetooth.packet.advData.serviceData.uuid">
                  uuid:
                  <input type="text" name="address" ng-model="bluetooth.packet.advData.serviceData.uuid" class="form-control" style="width:50%" readonly>
                  </h5>
                  <h5 ng-show="bluetooth.packet.advData.serviceData.data">
                  data:
                  <input type="text" name="address" ng-model="bluetooth.packet.advData.serviceData.data" class="form-control" style="width:50%" readonly>
                  </h5>
                </form>
              </div>
            </div>
          </accordion-group>
        </accordion>
      </div>

      <!--________JSON________-->
      <div class="json">
        <h1> As JSON </h1>
      <pre>{{packet}}</pre>
      </div>

  </div>
  </tab>

  <tab heading="reelyActive" select="selectReelyactive()">

  <!--________reelyActive________-->
  <div ng-controller="PacketCtrl">
    
      <form class="payloadInputDd">
        <select ng-model="payload" ng-change="process()" class="form-control" ng-options="preset.payload as preset.name for preset in presets"
          style="width:30%">
          <option value="">-- Choose a preset payload --</option>
        </select>
        <input ng-model="payload" ng-keyup="process()" type="text" class="form-control" placeholder="Or paste your payload here"
        style="width:40%">
      </form>
    
    <div class="form" ng-show="reelyactive.show">

      <h1> reelyActive Packet Elements </h1>

      <div ng-controller="AccordionDemoCtrl">
        <accordion close-others="false">
          <accordion-group heading="Identifier: ">
            <h4> EUI-64: 
                <input type="text" name="header" ng-model="reelyactive.packet.value" class="form-control" style="width:35%" readonly>
            </h4>
          </accordion-group>
          <accordion-group heading="Flags:" >
          <label for="transmissionCount">
            <h4> Transmission Count: 
                <input disabled ng-model="reelyactive.packet.flags.transmissionCount" type="number" name="payloadlength" id="length" min="0" max="3" step="1" value="8" class="form-control" style="width:20%">
            </h4>
          </label>
          </accordion-group>
           <accordion-group heading="Data: ">
          <h4> Battery:
            <input type="text" name="header" ng-model="reelyactive.packet.data.battery" class="form-control" style="width:20%" readonly>
          </h4>
          <h4> Temperature:
            <input type="text" name="header" ng-model="reelyactive.packet.data.temperature" class="form-control" style="width:20%" readonly>
          </h4>
          </accordion-group>
          </accordion>
         
          
      </div>
    </div>

    <!--________JSON________-->
    <div class="json">
      <h1> As JSON </h1>
    <pre>{{packet}}</pre>
  </div>

  </div>
  </tab>
</tabset>

<footer id="footer">
<a href="https://github.com/reelyactive/advlib"> advlib </a> &nbsp; | &nbsp;
<a href="http://context.reelyactive.com"> &copy; reelyActive 2015 </a>
</footer>

</body>
</html>